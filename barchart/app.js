import*as d3 from"d3";const dataUrl="https://raw.githubusercontent.com/freeCodeCamp/ProjectReferenceData/master/GDP-data.json",width=1e3,height=600,padding=60,svg=d3.select(".barchart").append("svg").attr("width",1e3).attr("height",600).attr("align","center").attr("class","chart-svg"),updateChart=t=>{const a=880/t.length,e=d3.scaleLinear().domain([0,d3.max(t,(t=>t[1]))]).range([540,60]),r=d3.timeParse("%Y-%m-%d"),s=[];for(const a of t)s.push(r(a[0]));const d=d3.scaleTime().domain(d3.extent(s)).range([60,940]),o=d3.select("body").append("div").attr("class","tooltip").attr("id","tooltip").style("opacity",0);svg.selectAll("rect").data(t).enter().append("rect").attr("width",a).attr("height",(t=>600-e(t[1])-60)).attr("x",((t,e)=>60+e*a)).attr("y",(t=>e(t[1]))).attr("data-date",(t=>t[0])).attr("data-gdp",(t=>t[1])).attr("class","bar").on("mouseover",((t,a)=>{o.transition().duration(100).style("opacity",.9),o.html(`<h1>${a[0]}</h1><br><h2>$${a[1]} Billion</h2>`).style("left",`${t.pageX+30}px`).style("top","420px").attr("data-date",t.target.dataset.date)})).on("mouseout",(()=>{o.transition().duration(200).style("opacity",0)}));const n=d3.axisBottom(d),i=d3.axisLeft(e);svg.append("g").attr("transform","translate(0, 540)").attr("id","x-axis").call(n.ticks(d3.timeYear.every(5))),svg.append("g").attr("transform","translate(60, 0)").attr("id","y-axis").call(i),svg.append("g").attr("class","axis-label").attr("transform","translate(80, 300)").append("text").attr("text-anchor","middle").attr("transform","rotate(-90)").text("Gross Domestic Product (Billions)")},fetchData=t=>fetch(t).then((t=>t.json())).then((t=>updateChart(t.data)));fetchData(dataUrl);